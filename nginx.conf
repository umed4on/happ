user nginx nginx;
worker_processes 24;
worker_rlimit_nofile 8192;
timer_resolution 100ms;

error_log /var/log/nginx/error_log ;

events {
	worker_connections 8192;
	multi_accept on;
	use epoll;
}
http {
    server_names_hash_bucket_size 128;
    upstream closcache {
        server 127.0.0.1:8090;
        server 127.0.0.1:8091;
    }
	include /etc/nginx/mime.types;
	include /etc/nginx/conf.d/itsumma.mon.conf;
	default_type application/octet-stream;

	#multi_accept on;
	server_tokens	off;

	log_format main
		'$remote_addr - $remote_user [$time_local] '
		'"$request" $status $bytes_sent '
		'"$http_referer" "$http_user_agent" '
		'"$gzip_ratio"';

	log_format mainext
		'$remote_addr [$http_x_forwarded_for] - $remote_user($cookie_auth) [$time_local] '
		'"$request" $status $bytes_sent '
		'"$http_referer" ua:"$http_user_agent" '
		'gz:"$gzip_ratio" ae:"$http_accept_encoding" c:("$http_cookie") rb:("$request_body") ($request_time)';

        log_format mainexth
                '$remote_addr [$http_x_forwarded_for] - $remote_user($cookie_auth) [$time_local] '
                '"$request" $status $bytes_sent  $host'
		'ssl: $ssl_protocol/$ssl_cipher'
                '"$http_referer" ua:"$http_user_agent" '
                'gz:"$gzip_ratio" ae:"$http_accept_encoding" c:("$http_cookie") rb:("$request_body") ($request_time)';


        log_format timing   '$remote_addr - $remote_user [$time_local]  "$request" '
                            '$status $request_time '
                            '$upstream_addr $upstream_response_time';


	#proxy_cache_path /nginx.cache levels=1:2	keys_zone=json:10m;
	fastcgi_cache_path /raid/bmcafe.cache levels=1:2 keys_zone=bmcafe:1m max_size=10m inactive=15m;
	proxy_cache_path /raid/flashslots.cache levels=1:2 keys_zone=flashslots:10m max_size=50G inactive=20m;
	proxy_temp_path /raid/nginx.temp 1 2;
	proxy_buffering on;
	client_header_timeout 15;
	client_body_timeout 15;
	send_timeout 1m;

	client_max_body_size 15M;

	connection_pool_size 256;
	client_header_buffer_size 64k;
	large_client_header_buffers 8 64k;
	request_pool_size 4k;

	fastcgi_pass_request_body on;
	client_body_in_file_only off;

	gzip on;
	gzip_comp_level 9;
	gzip_min_length 110;
	gzip_buffers 4 8k;
	gzip_types application/json text/plain application/octet-stream application/x-protobuf;

	output_buffers 1 32k;
	postpone_output 1460;

	sendfile on;
	tcp_nopush on;
	tcp_nodelay on;

	keepalive_timeout 75 20;
	ignore_invalid_headers on;

	index index.html;
	
	limit_req_zone $binary_remote_addr zone=one:32m rate=10r/m;

	server {
		default_type text/html;
		listen 127.0.0.1:8081;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
		location = / {
			limit_req zone=one burst=5 nodelay;
			add_header    Set-Cookie  "thatsfine=yes$remote_addr";
			rewrite ^/(.*) http://dostup.cc:8081/login permanent;
		}
		location = /login {
			ssi on;
			ssi_types application/octet-stream;
			limit_req zone=one burst=5 nodelay;
			if ($cookie_thatsfine != "yes$remote_addr") {
				return 503;
			}
			root /raid/login;
			index login.html;
		}
		location = /tm {
			ssi on;
			root /raid/login;
			index tm.html;
		}
		
	}

	upstream backend {
		#server 109.200.1.122:80;
		#server 109.200.1.123:80;
		#server 109.200.1.124:80;
		server 176.227.206.18:80;
	}

	server {
		listen 127.0.0.1:80;
		server_name inbet.cc www.inbet.cc;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		access_log /var/log/nginx/inbet.cc_access_log mainext;
		error_log /var/log/nginx/inbet.cc_error_log crit;
		location / {
			if ($http_accept_encoding !~ "gzip") {
				return 503;
			}
			proxy_pass http://89.188.96.91;
			proxy_set_header Host	$host;
			#proxy_cache_key "v2_$request_uri";
			#proxy_cache_valid	200 301 302 600m;
			#proxy_cache json;
			#return 503;
		}
	}


	server {
		listen 127.0.0.1:80;
		server_name sbuk.inbet.cc;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
		access_log /var/log/nginx/sbuk.access_log mainext;
		error_log /var/log/nginx/sbuk.error_log crit;

		location / {
			proxy_pass http://client.maxbet.asia/;
		}
	}

	server {
		listen 127.0.0.1:80;
		server_name www.cashier.bkleader.at cashier.bkleader.at;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
		access_log /var/log/nginx/bkleader.access_log mainext;
		error_log /var/log/nginx/bkleader.error_log crit;

		#location = /pokerdata/main.json {
		#	proxy_set_header	X-Real-IP	$remote_addr;
		#	proxy_set_header	Host	$host;
		#	proxy_ignore_headers "Cache-Control" "Expires";
		#	proxy_cache_key	"$request_uri";
		#	proxy_cache_valid 200 1s;
		#	proxy_cache json;
		#	proxy_pass	http://client.maxbet.asia/;
		#}

		location ~* ^.+.(png|gif|css|js|jpg)$ {
			proxy_set_header	X-Real-IP	$remote_addr;
			proxy_set_header	Host	cashier.bkleader.at;
			#proxy_cache_key	"$request_uri";
			#proxy_cache_valid	200 600m;
			#proxy_cache json;
			proxy_pass	http://backend;
		}

		location / {
			if ($http_accept_encoding !~ "gzip") {
				return 503;
			}
			proxy_set_header   X-Real-IP        $remote_addr;
			proxy_set_header   Host 	cashier.bkleader.at;
			proxy_pass http://backend;
		}
	}

	server {
		listen 127.0.0.1:80;
		server_name bm.inbet.cc;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		location ~* ^.+.(png|gif|css|js|jpg)$ {
			proxy_set_header	X-Real-IP	$remote_addr;
			proxy_set_header	Host	bm.inbet.cc;
			#proxy_cache_key "$request_uri";
			#proxy_cache_valid	200 600m;
			#proxy_cache json;
			proxy_pass	http://backend;
		}

		location / {
			proxy_set_header	X-Real-IP	$remote_addr;
			proxy_set_header Host bm.inbet.cc;
			proxy_pass http://backend;
		}

	}

	server {
		listen 127.0.0.1:80;
		server_name client.maxbet.asia;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		location ~* ^.+.(png|gif|css|js|jpg)$ {
			proxy_set_header	X-Real-IP	$http_x_forwarded_for;
			proxy_set_header	Host	client.maxbet.asia;
			#proxy_cache_key "$request_uri";
			#proxy_cache_valid 	200 600m;
			#proxy_cache 	json;
			proxy_pass	http://backend;
		}

		location / {
			proxy_set_header	X-Real-IP	$http_x_forwarded_for;
			proxy_set_header	Host	client.maxbet.asia;
			proxy_pass	http://backend;
		}
	}

	server {
		listen 127.0.0.1:80;
		server_name cafetest.inbet.cc;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		root /raid/bmcafe_test/web;
		rewrite ^/css/(main|print).css$ /css/$1.fxsportru.css;

		location / {
			if (-f $request_filename){
				break;
			}

			if ($request_method = POST ) {
				rewrite ^(.*)$ /index.php last;
			}

			if ($http_cookie !~* "symfony=" ) {
				set $noauth $uri;
				rewrite ^/$ /login;
			}

			if (-f /raid/bmcafe_test/web/cache$uri){
				rewrite ^(.*)$ /cache$1 last;
			}

			if ($noauth = /) {
				rewrite ^/login$ /login redirect;
				break;
			}

            access_log off;
		}


		location ~ ^/src/(.*)$ {
			proxy_pass      http://client.maxbet.asia/bmcafe/$1;
			proxy_redirect  off;
			proxy_set_header        Host    $host;
	            	proxy_set_header        X-Real-IP       $remote_addr;
	        }

	    	location ~ ^/src2/(.*)$ {
	            	proxy_pass      http://client.maxbet.asia/linedata/$1;
	           	proxy_redirect  off;
	            	proxy_set_header        Host    $host;
	            	proxy_set_header        X-Real-IP       $remote_addr;
	        }

	    	location ~ ^/pokerdata/(.*)$ {
	            	proxy_pass      http://client.maxbet.asia/pokerdata/$1;
	           	proxy_redirect  off;
	            	proxy_set_header        Host    $host;
	            	proxy_set_header        X-Real-IP       $remote_addr;
	        }

    		location /cache {
			expires -1;
			add_header Last-Modified $sent_http_Expires;
	            	add_header Content-Type "text/html; charset=UTF-8";
		}

		location ~ .php$ {
			fastcgi_pass 127.0.0.1:8888;
			include	fastcgi_params;
			fastcgi_param SCRIPT_FILENAME /raid/bmcafe_test/web/$fastcgi_script_name;
			fastcgi_param NGINX_URI	$fastcgi_script_name;
			fastcgi_param REQUEST_METHOD $request_method;
			fastcgi_param CONTENT_TYPE $content_type;
			fastcgi_param CONTNET_LENGTH $content_length;
			fastcgi_param REMOTE_ADDR $remote_addr;
			fastcgi_param REMOTE_USER $remote_user;
		}
	}

	server {
		listen 0.0.0.0:9000;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
		access_log /var/log/nginx/9000_access_log mainext;
		location ~.php$ {
			fastcgi_pass 127.0.0.1:8888;
			include fastcgi_params;
			fastcgi_param SCRIPT_FILENAME /raid/api/$fastcgi_script_name;
			fastcgi_param NGINX_URI $fastcgi_script_name;
			fastcgi_param REQUEST_METHOD $request_method;
			fastcgi_param CONTENT_TYPE $content_type;
			fastcgi_param CONTNET_LENGTH $content_length;
			fastcgi_param REMOTE_ADDR $remote_addr;
			fastcgi_param REMOTE_USER $remote_user;
		}
        location ~.(js|css|html)$ {
            root /raid/api/;
        }
	}
        server {
        	listen 127.0.0.1:80;
        	server_name *.bollet.net;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
        	return 301 $scheme://bollet.net$request_uri;
        }
        server {
                listen 127.0.0.1:80;
                server_name *.bollet.com;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
                return 301 $scheme://bollet.com$request_uri;
        }
	server {
                listen 127.0.0.1:80;
                server_name *.turbogame.club;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
                return 301 $scheme://turbogame.club$request_uri;
        }


	server {
		listen 127.0.0.1:80;
		server_name mail.inbet.cc pr.inbet.cc market.inbet.cc;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}
		return 301 $scheme://cafe.inbet.cc;
	}


	server {
		listen 127.0.0.1:80;
		listen 443 ssl;
		ssl_certificate /etc/nginx/ssl/nginx.crt;
		ssl_certificate_key /etc/nginx/ssl/nginx.key;
		server_name .optimist.cc .optimist.tw vi.maxbet.asia .trimoribet.com .betformat.com 8marta25.ru www.8marta25.ru rakhsh.tj cafe.interbet.cc totalizator.cc pokerbet.crystalbet.com room.bkleader.info sport.bkleader.info casino.sportprognoz.in .livebeton.com .forexsport.ru .sportprognoz.in cafe.bkleader.at .bigbet.cc golbet.tj www.golbet.tj .bkleader.com bkleader.at room.bkleader.at sbuk.tj www.tojbet.tj tojbet.tj touch.inbet.cc cafe.7stavok.cc cafe.inbet.cc games.maxbet.asia cafe.maxbet.asia .udacha.cc .magiz.org .x-bet.cc .funbetcafe.cc .tojvar.tj .cafeinbet.cc .sportforex.pro .gwin.am inclub.toto.am .stavki.cc incafe.inbet.cc .keno.tj .aomen88888.cc bollet.net bollet.com test_cafe.inbet.cc test-cafe.inbet.cc .bet365africa.com index.inbet.club kzinbet.kz shpilka.tv shpilka.cc shpilka.land .africbet.com .inbet.am .elloto.net inbet-cafe.cc cafe-inbet.cc .cafe-maxbet.asia .cafemaxbet.asia turbogame.club loto.maxbet.asia walletone.multiapi.cc .goldwin25.cc .ingames.cc games.goodwin.am .inbetmaxbet-cafe.cc .cafe-inbet.co .inbetcafe.co .maxbet-cafe.cc .cafe-maxbet.cc .zaebet.com .cafeinbet.org .cafeinbet.net .cafeinbet.info .friday7.com incafe.kz .u777bet.com .avain.bet .apuestas.ink mobilecafe.inbet.cc .betatcafe.com .i-bet.kz .lotobet.cc .betkeno.kz .promo-sport.org .promosports.cc .casinoroyal.com inbet.affwl.com .w2bet.com .inbetcafe.com .mbay.kz betatfoot.com kairosxo.bet inbet.tj betcafe24.bet bestbetshop.com bet4shop.com onlinecasino.club likebet.de games4cash.com sirbet.net fortuna.sportloto.com.ua playonline888.com sunclubcasino.com playhome.kz inbetcasino.lat betduka.com apuestaspy.la tuapuesta.la apueston.net stavkaloto.kz dovesight.com bingo888.club viktory.bet bet777.bet inbet855.com fastbet.ug 24h.hibet.xyz sportcongo.com skytouchbetng.com monacowinner.com venetosportgames.com betsport.games joker.zone global-bets.com enterbk.kz sportbk.kz sentosa.kz wynn.kz sahara.kz bspot.kz betstore.kz;

		access_log /var/log/nginx/cafe_access_log;
		error_log /var/log/nginx/cafe.inbet.cc.error_log;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		root /raid/bmcafe/web;

        set $update_url /update/update_black.html;
        if ($host ~ 'test_cafe.inbet.cc$'){
            set $update_url /update/update.html;
        }

        if (-f $document_root/update.txt) {
            rewrite ^(/update/.*)$ $1 last;
            rewrite .* $update_url redirect;
        }
        if (!-f $document_root/update.txt) {
            rewrite ^/update/update(_black)?\.html$ / redirect;
        }

        # remove slots
        set $noslot "";
        if ($host = 'inbet.kz') {
            set $noslot "A";
        }
        if ($uri ~ 'slots') {
            set $noslot "${noslot}A";
        } 
        if ($noslot ~ "AA") {
            return 500;
        }
	
	
	location ~ ^/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+ { # some strange activity was there
		return 404;
	}


        if ($host ~ '(www\.)?bigbet\.cc') {
            rewrite ^/css/(main|print).css$ /css/$1.bigbet.css;
        }
		if ($host ~ '(\.)?livebeton\.com') {
			rewrite ^/css/(main|print).css$ /css/$1.livebeton.css;
		}
		if ($host ~ '(www\.)?tojbet.tj') {
			rewrite ^/css/(main|print).css$ /css/$1.tojbet.css;
		}
		if ($host ~ '(www\.)?sportprognoz.in') {
			rewrite ^/css/(main|print).css$ /css/$1.sportprognoz.css;
		}
		if ($host ~ '(www\.)?forexsport.ru') {
			rewrite ^/css/(main|print).css$ /css/$1.fxsportru.css;
		}
		if ($host = 'sbuk.tj') {
			rewrite ^/css/(main|print).css$ /css/$1.sbuk.css;
		}
		if ($host ~ '^(cafe\.)?bkleader.at') {
			rewrite ^/css/(main|print).css$ /css/$1.leader.css;
		}
		if ($host = 'room.bkleader.at') {
			rewrite ^/css/(main|print).css$ /css/$1.leader-nocasino.css;
		}
		if ($host ~ '(www\.)?bkleader\.com') {
			rewrite ^/css/(main|print).css$ /css/$1.leadercom.css;
		}
		if ($host = 'cafe.maxbet.asia') {
			rewrite ^/css/(main|print).css$ /css/$1.maxbet.css;
		}


        # 2986 - forbid robots for white design
        if ($host ~ 'bigbet\.cc|cafe\.interbet\.cc|rakhsh\.tj') {
            rewrite ^/robots\.txt$ /robots-deny.txt last;
        }

	# cafeinbet* - allow robots
	if ($host ~ 'cafeinbet\.(com|org|net|info)|cafe-inbet.co' ) {
            rewrite ^/robots\.txt$ /robots-allow.txt last;
	}

        # 2995 - cafeinbet.cc deny yandex in robots
        if ($host ~ 'cafeinbet\.cc') {
            rewrite ^/robots\.txt$ /robots-deny-yandex.txt last;
        }

        # bug 1364 - partners.livebeton.com
        if ($host = 'partners.livebeton.com') {
            rewrite ^/$ /partner permanent;
        }

        # gaminators
        rewrite ^/slots/slots/(.*)\.swf$ /swf/$1.swf break;

        # Super cache
        set $useCache 0;
        if ($http_cookie !~* "symfony=" ) {
            set $useCache 1;
        }

        if ($request_method = POST) {
            set $useCache 0;
        }

        if ($is_args = ?) {
            set $useCache 0;
        }

        # test on /index.php only
        if ($request_uri !~ ^/index.php$) {
        #    set $useCache 0;
        }

        set $noCache 1;
        if ($useCache = 1) {
            set $noCache 0;
        }

        # temp
        if ($request_uri ~ ^/index.php$) {
            return 502;
        }

        # security rules
        location = /.htaccess {
            return 404;
        }

        location ~ /.svn {
            return 404;
        }

        location /cache {
            expires 1h;
            add_header Last-Modified $sent_http_Expires;
            add_header Content-Type "text/html; charset=UTF-8";
            access_log off;
       }

        # static site
        location /static/ {
            expires 1h;
        }
	location /.well-known/acme-challenge {
		proxy_pass http://91.238.100.56;
		proxy_set_header Host $host;
	}

	location /promo_keno/ {
            rewrite /promo_keno/$ /promo_keno/index.php last;
        }

	# races
        location /race_media/
        {
            #proxy_pass https://s3-eu-west-1.amazonaws.com/;
	    proxy_pass http://cafeinbet-videos.s3.amazonaws.com/;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            #proxy_set_header        Host            s3-eu-west-1.amazonaws.com;
	    proxy_set_header        Host            cafeinbet-videos.s3.amazonaws.com;
            proxy_set_header Authorization "";
        }
	
        # slots
        location /media/
        {
            proxy_pass http://flashslots.s3.amazonaws.com/;
	    proxy_cache flashslots;
	    proxy_cache_valid 60m;
	    proxy_cache_valid 404 1m;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_set_header        Host            flashslots.s3.amazonaws.com;
            proxy_set_header Authorization "";
        }


        location ~* ^/landing/.+.(png|gif|css|js|jpg)$ {
                rewrite ^/landing(.*)$/ $1;

		root /opt/public;
	}


	location /landing/ {
		rewrite ^/landing(.*)$/ $1;
		proxy_pass http://localhost:8080/;
	}
	
        location /media/prod_flash_data.js
        {
            proxy_pass http://flashslots.s3.amazonaws.com/prod_flash_data.js;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_set_header        Host            flashslots.s3.amazonaws.com;
            proxy_set_header Authorization "";
        }

        location /s2c {
                rewrite /s2c/(.*) /$1 break;
                proxy_pass http://127.0.0.1:8092;
                access_log /var/log/nginx/cashier_access.log mainext;
        }
        location /s2cn/ {
                rewrite /s2cn/(.*) /$1 break;
                proxy_pass http://127.0.0.1:8093;
                access_log /var/log/nginx/nonlive_access.log mainext;
        }


        location /isaeRie9/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
	    proxy_read_timeout 120;
        }
        location /RGFpTmdv/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Kigh9muV/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
	location /Zohsa8ai/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /OiGh6aih/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }



	location /vue3Thia/api/
	#for tojbet.tj
	{
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/tojbet_slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }

        location /Xahph1ko/api/
	#for inbetloto.kz
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://flash-api.inbet.cc:8080;
            access_log /var/log/nginx/inbetloto_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /go0iN2Ua/api/
	#for cafemaxbet
        {
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Ym9yZWVw/api/
        #for i-bet.kz
        {
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
#
        location /vi5eiGoh/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ThieT6ie/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Yaic0ieg/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /eewaM8vu/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /noh6Chey/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /uesh3EiP/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /deB5ahl9/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Poh7ail6/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /EiGah6xa/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /dieP9qui/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Aej3Vei8/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ooCoon9X/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ohz7Pei9/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /izoh7Eim/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /eeRotug0/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /oSh5thoo/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Koo0di1i/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /NohyahM0/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /thieTh7U/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ooLahX1c/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Kaiki2go/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ahraiMe4/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Jayae8sh/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ciChoo4u/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /uR9eicoo/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /zeic0Eet/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /iPha3ueY/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Ahh9ebei/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /sahB7oap/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Uy9mu9du/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Huwah3zu/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Boova2qu/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Oe2aic/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /EiC0nabe/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /quae3Wu5/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /eic7eeDe/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Ahng1ola/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /utooph9Y/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Gee9ohsa/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /eekee4Fu/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /bei7Baih/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /aipa5Oa3/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /AeThai9w/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ohYeila9/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /shoShei0/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /ooDus0ye/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /EiRei3Ae/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Aew4sei5/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Himaer9C/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /eNgai3Ee/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Eegheem6/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /aeroo4Ig/api/
        {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Jee0Uas9/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Eex5ohng/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /seiP7ooy/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Eeg9if2A/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /maP9wegh/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /um3OoPhe/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Coht4aiD/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /choM3noo/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Ahng7Eip/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /queew7Fu/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /iel5EChe/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /AeCoo9io/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /VaeP1joo/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Wingo2la/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /aevee7Ie/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Joo6ohma/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /see6eoCh/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
        location /Geung4ai/api/ {
            #proxy_pass http://46.137.151.208:8080;
            proxy_pass http://88.150.197.26:8080;
            access_log /var/log/nginx/slot_api.access_log mainext;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
            proxy_read_timeout 120;
        }
#
	location /uapi/ 
	{
		proxy_pass http://swarm.op.betcloud.cc:5556/;
		proxy_redirect  off;
		access_log /var/log/nginx/uapi.access_log mainext;
		#proxy_set_header        X-Real-IP       $remote_addr;
		keepalive_timeout 120s;
		client_body_timeout 120s;
		send_timeout 120s;
	}



        # Main rules
        location /uploads {
            expires 1h;
            add_header Last-Modified $sent_http_Expires;
            add_header Content-Type "text/html; charset=UTF-8";
            access_log off;
        }


        location / {
			if (-f $request_filename){
                access_log off;
				break;
			}

			rewrite ^(.*)$ /index.php last;
		}

		location ~ ^/(frontend_dev|backend|backend_dev).php { 
            auth_basic "Closed area";
            auth_basic_user_file htpasswd;

            access_log /var/log/nginx/cafe.inbet.cc.access_log mainext;
            #access_log /var/log/nginx/cafe.inbet.cc.access_small_log main;

            #access_log off;

            fastcgi_pass 127.0.0.1:8888;
            include fastcgi_params;
            fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
            fastcgi_param NGINX_URI $fastcgi_script_name;
            fastcgi_param REQUEST_METHOD $request_method;
            fastcgi_param CONTENT_TYPE $content_type;
            fastcgi_param CONTNET_LENGTH $content_length;
            fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
            fastcgi_param X-Real-IP $remote_addr;
            fastcgi_param REMOTE_USER $remote_user;
            fastcgi_read_timeout 60;
		}
	#location = /user/recentWins {
	#	return 404;
	#}

        location ^~ /minislots/spin.php {
			rewrite ^(.*)$ /index.php last;
        }

        location ^~ /slots/ {
			rewrite ^(.*)$ /index.php last;
        }

        location ^~ /lobby/ {
			rewrite ^(.*)$ /index.php last;
        }
       
        #location ~ ^/bingo/data/(info[0-9]+\.json)$ {
        #    proxy_pass  http://client.maxbet.asia/bingo/data/$1;
        #    proxy_redirect off;
        #    proxy_set_header    Host    $host;
        #    proxy_set_header    X-Real-IP   $remote_addr;
        #}
        location ~ ^/bingo/data/info([0-9]+)\.json$ {
            set $memcached_key bingo_info$1;
            memcached_pass 127.0.0.1:16000;
        }
        location ~ ^/bingo/data/history([0-9]+)\.json$ {
            proxy_pass  http://client.maxbet.asia/bingo/data/history$1.json;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }

		location ~ ^/bmcafe/(.*)$ {
			proxy_pass      http://client.maxbet.asia/bmcafe/$1$is_args$args;
			proxy_redirect  off;
			proxy_set_header        Host    $host;
	       	proxy_set_header        X-Real-IP       $remote_addr;
	    }

		location ~ ^/kenodata/keno.json(.*)$ {
			proxy_pass      http://client.maxbet.asia/kenodata/keno.json$1;
			proxy_redirect  off;
			proxy_set_header        Host    $host;
	       	proxy_set_header        X-Real-IP       $remote_addr;
	    }


        location /fortuna_ {
            #proxy_pass      http://91.238.100.20/fortuna_;
	    proxy_pass      http://109.73.77.220:7999/fortuna_;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
        }


		location ~ ^/newKeno/(.*)$ {
			proxy_pass      http://client.maxbet.asia/newKeno/$1;
			proxy_redirect  off;
			proxy_set_header        Host    $host;
	       	proxy_set_header        X-Real-IP       $remote_addr;
	    }

        location ~ ^/dex9/(.*)$ {
            access_log off;
            #access_log /var/log/nginx/cafe.inbet.cc.access_relay_log mainext;
            error_log  /var/log/nginx/cafe.inbet.cc.error_relay_log crit;
            #proxy_pass  http://31.3.232.234:8080/bmcafe/$1;
            proxy_pass http://closcache/bmcafe/$1;
            proxy_redirect  off;
            proxy_set_header    Host    $host;
            proxy_set_header    X-Real-IP   $remote_addr;
            proxy_set_header Set-Cookie "";
            #proxy_pass_request_headers off;
        }

		location ~ ^/src/(.*)$ {
			proxy_pass      http://client.maxbet.asia/bmcafe/$1;
			proxy_redirect  off;
			proxy_set_header        Host    $host;
	       	proxy_set_header        X-Real-IP       $remote_addr;
	    }

	   	location ~ ^/src2/(.*)$ {
	        proxy_pass      http://client.maxbet.asia/linedata/$1;
	        proxy_redirect  off;
	        proxy_set_header        Host    $host;
	        proxy_set_header        X-Real-IP       $remote_addr;
	    }

	   	location ~ ^/src3/(.*)$ {
	        proxy_pass      http://client.maxbet.asia/dogdata/$1;
	        proxy_redirect  off;
	        proxy_set_header        Host    $host;
	        proxy_set_header        X-Real-IP       $remote_addr;
	    }
    
        location ~ ^/bingodata/(.*)$ {
            proxy_pass  http://client.maxbet.asia/bingo/data/$1;
        }

	    location ~ ^/pokerdata/(.*)$ {
         	proxy_pass      http://176.227.206.18/pokerdata/$1;
           	proxy_redirect  off;
           	proxy_set_header        Host    $host;
           	proxy_set_header        X-Real-IP       $remote_addr;
        }

        location /baccaratdata/ {
            proxy_pass      http://176.227.206.18/baccarat/;
            proxy_redirect  off;
            proxy_set_header        X-Real-IP       $remote_addr;
        }


        location = /omaha_stakes.mc {
            proxy_pass  http://client.maxbet.asia/omaha_stakes.mc;
            proxy_redirect off;
        }

		location ~ .php$ {
            access_log /var/log/nginx/cafe.inbet.cc.access_log mainext;
            #access_log /var/log/nginx/cafe.inbet.cc.access_small_log main; 
            #access_log  /var/log/nginx/timed.log  timing;

            #access_log off;

			fastcgi_pass 127.0.0.1:8888;
			include	fastcgi_params;
			fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
			fastcgi_param NGINX_URI	$fastcgi_script_name;
			fastcgi_param REQUEST_METHOD $request_method;
			fastcgi_param CONTENT_TYPE $content_type;
			fastcgi_param CONTNET_LENGTH $content_length;
			fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
			fastcgi_param X-Real-IP $remote_addr;
			fastcgi_param REMOTE_USER $remote_user;
            		fastcgi_read_timeout 60;

            #fastcgi_cache bmcafe;
            #fastcgi_no_cache $noCache;
            #fastcgi_cache_bypass $noCache;
            #fastcgi_cache_key $scheme$host$uri;
		}
	}

	server {
		listen 127.0.0.1:80;
		server_name static.maxbet.asia 176.227.211.186;
		location ~ ^/.rkn- { access_log /var/log/nginx/rkn-log mainexth; return 404;}

		location ~ .php$ {
			fastcgi_pass 127.0.0.1:8888;
			fastcgi_param SCRIPT_FILENAME /raid/static/$fastcgi_script_name;
			fastcgi_param NGINX_URI	$fastcgi_script_name;
			fastcgi_param QUERY_STRING $query_string;
			fastcgi_param REQUEST_METHOD $request_method;
			fastcgi_param CONTENT_TYPE $content_type;
			fastcgi_param CONTNET_LENGTH $content_length;
			fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
			fastcgi_param REMOTE_USER $remote_user;
            		fastcgi_read_timeout 60;
		}

		access_log /var/log/nginx/static.maxbet.asia.access_log mainext;
		error_log /var/log/nginx/static.maxbet.asia.error_log crit;

		root /raid/static;
		index index.html;
	}



	server {
                listen 127.0.0.1:80;
		listen 443 ssl;
                ssl_certificate /etc/nginx/ssl/nginx.crt;
                ssl_certificate_key /etc/nginx/ssl/nginx.key;
		server_name cafemobauth.com;
        	location /mobile/api/auth {
                	rewrite ^(.*)$ /index.php break;
#        	}
#                location ~ .php$ {
            		access_log /var/log/nginx/mobile.access_log mainext;
                        fastcgi_pass 127.0.0.1:8888;
                        include fastcgi_params;
                        fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
                        fastcgi_param NGINX_URI $fastcgi_script_name;
                        fastcgi_param REQUEST_METHOD $request_method;
                        fastcgi_param CONTENT_TYPE $content_type;
                        fastcgi_param CONTNET_LENGTH $content_length;
                        fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
                        fastcgi_param X-Real-IP $remote_addr;
                        fastcgi_param REMOTE_USER $remote_user;
                        fastcgi_read_timeout 60;

                }
        	location /mobile/api/currency/list {
                	rewrite ^(.*)$ /index.php break;
            		access_log /var/log/nginx/mobile.access_log mainext;
                        fastcgi_pass 127.0.0.1:8888;
                        include fastcgi_params;
                        fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
                        fastcgi_param NGINX_URI $fastcgi_script_name;
                        fastcgi_param REQUEST_METHOD $request_method;
                        fastcgi_param CONTENT_TYPE $content_type;
                        fastcgi_param CONTNET_LENGTH $content_length;
                        fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
                        fastcgi_param X-Real-IP $remote_addr;
                        fastcgi_param REMOTE_USER $remote_user;
                        fastcgi_read_timeout 60;

                }
        	location /mobile/api/register/user {
                	rewrite ^(.*)$ /index.php break;
            		access_log /var/log/nginx/mobile.access_log mainext;
                        fastcgi_pass 127.0.0.1:8888;
                        include fastcgi_params;
                        fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
                        fastcgi_param NGINX_URI $fastcgi_script_name;
                        fastcgi_param REQUEST_METHOD $request_method;
                        fastcgi_param CONTENT_TYPE $content_type;
                        fastcgi_param CONTNET_LENGTH $content_length;
                        fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
                        fastcgi_param X-Real-IP $remote_addr;
                        fastcgi_param REMOTE_USER $remote_user;
                        fastcgi_read_timeout 60;

                }
	        location /Zohsa8ai/api/
        	{
	            proxy_pass http://88.150.197.26:8080;
	            access_log /var/log/nginx/slot_api.access_log mainext;
	            proxy_redirect  off;
	            proxy_set_header        X-Real-IP       $remote_addr;
	        }
	        location /api/slots {
                        rewrite ^(.*)$ /index.php break;
                        access_log /var/log/nginx/mobile.access_log mainext;
                        fastcgi_pass 127.0.0.1:8888;
                        include fastcgi_params;
                        fastcgi_param SCRIPT_FILENAME /raid/bmcafe/web/$fastcgi_script_name;
                        fastcgi_param NGINX_URI $fastcgi_script_name;
                        fastcgi_param REQUEST_METHOD $request_method;
                        fastcgi_param CONTENT_TYPE $content_type;
                        fastcgi_param CONTNET_LENGTH $content_length;
                        fastcgi_param REMOTE_ADDR $proxy_add_x_forwarded_for;
                        fastcgi_param X-Real-IP $remote_addr;
                        fastcgi_param REMOTE_USER $remote_user;
                        fastcgi_read_timeout 60;

                }



	}
	server {
		listen 127.0.0.1:80;
		server_name www.betatfoot.com;
		location / { return 302 http://betatfoot.com; }
	}
        server {
		server_name cafeinbet.com;
		listen 127.0.0.1:80;
		location / { return 302 http://cafeinbet.net;}
	}
	
	
        server {
                listen 127.0.0.1:80;
                server_name www.kairosxo.bet;
                location / { return 302 http://kairosxo.bet; }
        }
        server {
                listen 127.0.0.1:80;
                server_name www.japara.la;
                location / { return 302 http://japara.la; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.kzinbet.kz;
                location / { return 302 http://kzinbet.kz; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.bestbetshop.com;
                location / { return 302 http://bestbetshop.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.bet4shop.com;
                location / { return 302 http://bet4shop.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.onlinecasino.club;
                location / { return 302 http://onlinecasino.club; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.u777bet.com;
                location / { return 302 http://u777bet.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.apuestaspy.la;
                location / { return 302 http://apuestaspy.la; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.likebet.de;
                location / { return 302 http://likebet.de; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.games4cash.com;
                location / { return 302 http://games4cash.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.sirbet.net;
                location / { return 302 http://sirbet.net; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.playonline888.com;
                location / { return 302 http://playonline888.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.fortuna.sportloto.com.ua;
                location / { return 302 http://fortuna.sportloto.com.ua; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.sunclubcasino.com;
                location / { return 302 http://sunclubcasino.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.playhome.kz;
                location / { return 302 http://playhome.kz; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.lotobet.cc;
                location / { return 302 http://lotobet.cc; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.inbetcasino.lat;
                location / { return 302 http://inbetcasino.lat; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.betduka.com;
                location / { return 302 http://betduka.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.tuapuesta.la;
                location / { return 302 http://tuapuesta.la; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.apueston.net;
                location / { return 302 http://apueston.net; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.stavkaloto.kz;
                location / { return 302 http://stavkaloto.kz; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.dovesight.com;
                location / { return 302 http://dovesight.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.bingo888.club;
                location / { return 302 http://bingo888.club; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.bet777.bet;
                location / { return 302 http://bet777.bet; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.viktory.bet;
                location / { return 302 http://viktory.bet; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.inbet855.com;
                location / { return 302 http://inbet855.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.fastbet.ug;
                location / { return 302 http://fastbet.ug; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.apuestas.ink;
                location / { return 302 http://apuestas.ink; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.24h.hibet.xyz;
                location / { return 302 http://24h.hibet.xyz; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.sportcongo.com;
                location / { return 302 http://sportcongo.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.skytouchbetng.com;
                location / { return 302 http://skytouchbetng.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.monacowinner.com;
                location / { return 302 http://monacowinner.com; }
        }
	        server {
                listen 127.0.0.1:80;
                server_name www.venetosportgames.com;
                location / { return 302 http://venetosportgames.com; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.betsport.games;
                location / { return 302 http://betsport.games; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.joker.zone;
                location / { return 302 http://joker.zone; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.global-bets.com;
                location / { return 302 http://global-bets.com; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.enterbk.kz;
                location / { return 302 http://enterbk.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.sportbk.kz;
                location / { return 302 http://sportbk.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.sentosa.kz;
                location / { return 302 http://sentosa.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.wynn.kz;
                location / { return 302 http://wynn.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.sahara.kz;
                location / { return 302 http://sahara.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.bspot.kz;
                location / { return 302 http://bspot.kz; }
        }
                server {
                listen 127.0.0.1:80;
                server_name www.betstore.kz;
                location / { return 302 http://betstore.kz; }
        }


}
